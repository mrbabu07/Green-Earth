const categoryList = document.getElementById("categoryList");

// Load categories from API
const loadCategory = () => {
  fetch("https://openapi.programming-hero.com/api/categories")
    .then((res) => res.json())
    .then((data) => {
      const categories = data.categories;
      console.log(categories);
      showCategory(categories);
    })
    .catch((err) => {
      console.log("Error:", err);
    });
};

// Show categories inside the <ul>
const showCategory = (categories) => {
  categoryList.innerHTML = categories
    .map(
      (cat) => `
    <li id="${cat.id}" class="hover:border-b-4 hover:border-red-600 border-red-600 cursor-pointer px-2 py-1">
      ${cat.title}
    </li>
  `
    )
    .join("");
};

// Event listener for category clicks
categoryList.addEventListener("click", (e) => {
  if (e.target.tagName === "LI") {
    const allLi = categoryList.querySelectorAll("li");
    allLi.forEach((li) => li.classList.remove("border-b-4"));

    e.target.classList.add("border-b-4");
    // showLoading(); // যদি তুমি loading spinner use করো
    loadNewsByCategory(e.target.category_name); // এখানে তোমার category অনুযায়ী news/card load হবে
    console.log("Selected category:", e.target.id);
  }
});

// Initialize
loadCategory();
